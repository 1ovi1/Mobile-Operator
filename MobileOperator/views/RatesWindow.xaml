<Page x:Class="MobileOperator.RatesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:local="clr-namespace:MobileOperator"
        mc:Ignorable="d">
    <Grid Background="#1A1A1A">
        <!-- Основной контент -->
        <Grid Margin="15">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Блок "Мой тариф" -->
            <Border Background="#2A2A2A" 
                    BorderBrush="#FF8C00" 
                    BorderThickness="2" 
                    CornerRadius="15" 
                    Padding="20" 
                    Margin="0,0,10,0" 
                    Grid.Row="0" 
                    Grid.Column="0">
                <StackPanel>
                    <TextBlock Text="Мой тариф:" 
                               TextAlignment="Center" 
                               FontSize="26" 
                               Foreground="#FFD700" 
                               FontWeight="Bold"
                               Margin="0,0,0,15"/>

                    <TextBlock Text="{Binding Path=Rate}" 
                               TextAlignment="Center" 
                               FontSize="28" 
                               Foreground="#FFA500" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>

                    <TextBlock Text="{Binding Path=Corporate}" 
                               TextAlignment="Center" 
                               FontSize="18" 
                               Foreground="#FF8C00"
                               Margin="0,0,0,15"/>

                    <Separator Background="#FF8C00" Margin="0,10"/>

                    <TextBlock Text="Ежемесячная плата:" 
                               TextAlignment="Center" 
                               FontSize="18" 
                               Foreground="#FFD700"
                               Margin="0,10,0,5"/>

                    <TextBlock TextAlignment="Center" 
                               FontSize="32" 
                               Foreground="#FFA500" 
                               FontWeight="Bold"
                               Margin="0,0,0,20">
                        <Run Text="{Binding Path=Cost}"/>
                        <Run Text=" ₽"/>
                    </TextBlock>

                    <Button Command="{Binding ChangeRateCommand}" 
                            Content="Сменить тариф"
                            Foreground="#1A1A1A" 
                            Background="#FFD700" 
                            FontSize="16" 
                            FontWeight="Bold"
                            Height="40" 
                            BorderThickness="0"
                            Click="ChangeRateButton_Click"/>
                </StackPanel>
            </Border>

            <!-- Блок "Информация о тарифе" -->
            <Border Background="#2A2A2A" 
                    BorderBrush="#FF8C00" 
                    BorderThickness="2" 
                    CornerRadius="15" 
                    Padding="25" 
                    Margin="10,0,0,0" 
                    Grid.Row="0" 
                    Grid.Column="1">
                <StackPanel>
                    <TextBlock Text="Информация о тарифе:" 
                               FontSize="26" 
                               Foreground="#FFD700" 
                               FontWeight="Bold"
                               TextAlignment="Center"
                               Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="Интернет: "/>
                                <Run Text="{Binding Path=GB}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ГБ"/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="Минуты: "/>
                                <Run Text="{Binding Path=Minutes}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" мин."/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="СМС: "/>
                                <Run Text="{Binding Path=SMS}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" шт."/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700">
                                <Run Text="СМС вне пакета: "/>
                                <Run Text="{Binding Path=SMSCost}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ₽"/>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="10,0,0,0">
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="Город: "/>
                                <Run Text="{Binding Path=CityCost}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ₽/мин"/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="Межгород: "/>
                                <Run Text="{Binding Path=IntercityCost}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ₽/мин"/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700" Margin="0,0,0,10">
                                <Run Text="Международный: "/>
                                <Run Text="{Binding Path=InternationalCost}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ₽/мин"/>
                            </TextBlock>
                            <TextBlock FontSize="16" Foreground="#FFD700">
                                <Run Text="ГБ вне пакета: "/>
                                <Run Text="{Binding Path=GBCost}" Foreground="#FFA500" FontWeight="Bold"/>
                                <Run Text=" ₽"/>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Таблица тарифов -->
            <Border Background="#2A2A2A" 
                    BorderBrush="#FF8C00" 
                    BorderThickness="2" 
                    CornerRadius="15" 
                    Padding="20" 
                    Margin="0,15,0,0" 
                    Grid.Row="1" 
                    Grid.ColumnSpan="2">
                <StackPanel>
                    <TextBlock Text="Доступные тарифы:" 
                               TextAlignment="Center" 
                               FontSize="26" 
                               Foreground="#FFD700" 
                               FontWeight="Bold"
                               Margin="0,0,0,10"/>
                    <TextBlock Text="Нажмите для просмотра подробной информации" 
                               TextAlignment="Center" 
                               FontSize="14" 
                               Foreground="#FF8C00"
                               Margin="0,0,0,15"/>

                    <DataGrid x:Name="RatesDataGrid" 
                              FontSize="16" 
                              CanUserAddRows="False" 
                              ItemsSource="{Binding Rates}"  
                              SelectedItem="{Binding SelectedRate}"
                              AutoGenerateColumns="False" 
                              ColumnWidth="*"
                              Background="#1A1A1A"
                              Foreground="#FFA500"
                              BorderBrush="#FF8C00"
                              BorderThickness="1"
                              RowBackground="#2A2A2A"
                              AlternatingRowBackground="#1A1A1A"
                              HeadersVisibility="Column"
                              GridLinesVisibility="None">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#FF8C00"/>
                                <Setter Property="Foreground" Value="#1A1A1A"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="Padding" Value="10"/>
                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Название" Binding="{Binding Name}" IsReadOnly="True" />
                            <DataGridTextColumn Header="Минуты" Binding="{Binding Minutes}" IsReadOnly="True"/>
                            <DataGridTextColumn Header="ГБ" Binding="{Binding GB}" IsReadOnly="True"/>
                            <DataGridTextColumn Header="СМС" Binding="{Binding SMS}" IsReadOnly="True"/>
                            <DataGridTextColumn Header="Цена (₽)" Binding="{Binding Cost}" IsReadOnly="True"/>
                        </DataGrid.Columns>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction
                                    Command="{Binding ViewRateCommand}"
                                    CommandParameter="{Binding SelectedItem, ElementName=RatesDataGrid}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </DataGrid>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>